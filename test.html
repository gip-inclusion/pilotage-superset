<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Test iframe</title>
  <style>
    iframe {
      width: 1px;
      min-width: 100%;
      height: 600px;
      border: 0

    }
  </style>

</head>

<body>
	<div id="root"></div>

<script src="https://unpkg.com/@superset-ui/embedded-sdk"></script>
<script src="https://unpkg.com/iframe-resizer@4.3.1/js/iframeResizer.min.js"></script>

<script>
	function fetchGuestTokenFromBackend() {
    return ""
	}

  const myDashboard = supersetEmbeddedSdk.embedDashboard({
    id: "b5f13922-14b8-43fe-991a-221785eef7d4", // given by the Superset embedding UI
    supersetDomain: "https://superset-pilotage.cleverapps.io",
    mountPoint: document.getElementById("root"), // any html element that can contain an iframe
    fetchGuestToken: () => fetchGuestTokenFromBackend(),
    dashboardUiConfig: {
        filters: {
            expanded: true,
            visible: true,
        }
    },
  });

  myDashboard.then((handle) => {
    iFrameResize({ log: true }, '#root iframe')
  })
</script>
</body>
</html>



